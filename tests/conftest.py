from math import nan

import pytest
from pandas import Timestamp


@pytest.fixture
def lst_for_tests_csv_xlsx() -> list:
    """Функция выдает список словарей транзакций для тестов"""
    return [{'Дата операции': Timestamp('2021-12-31 16:44:00'), 'Номер карты': '*7197',
             'Статус': 'OK', 'Сумма операции': -160.89, 'Валюта операции': 'RUB',
             'Сумма платежа': -160.89, 'Валюта платежа': 'RUB', 'Категория': 'Супермаркеты',
             'Описание': 'Колхоз'}, {'Дата операции': Timestamp('2021-12-31 16:42:04'),
                                     'Номер карты': '*7197', 'Статус': 'OK', 'Сумма операции': -64.0,
                                     'Валюта операции': 'RUB', 'Сумма платежа': -64.0, 'Валюта платежа': 'RUB',
                                     'Категория': 'Супермаркеты', 'Описание': 'Колхоз'},
            {'Дата операции': Timestamp('2021-12-31 16:39:04'),
             'Номер карты': '*7197', 'Статус': 'OK', 'Сумма операции': -118.12,
             'Валюта операции': 'RUB', 'Сумма платежа': -118.12,
             'Валюта платежа': 'RUB', 'Категория': 'Супермаркеты', 'Описание': 'Магнит'},
            {'Дата операции': Timestamp('2021-12-31 15:44:39'), 'Номер карты': '*7197', 'Статус': 'OK',
             'Сумма операции': -78.05, 'Валюта операции': 'RUB',
             'Сумма платежа': -78.05, 'Валюта платежа': 'RUB', 'Категория': 'Супермаркеты',
             'Описание': 'Колхоз'}, {'Дата операции': Timestamp('2021-12-31 01:23:42'), 'Номер карты': '*5091',
                                     'Статус': 'OK', 'Сумма операции': -564.0,
                                     'Валюта операции': 'RUB', 'Сумма платежа': -564.0,
                                     'Валюта платежа': 'RUB', 'Категория': 'Различные товары',
                                     'Описание': 'Ozon.ru'},
            {'Дата операции': Timestamp('2021-12-31 00:12:53'),
             'Номер карты': nan, 'Статус': 'OK',
             'Сумма операции': -800.0, 'Валюта операции': 'RUB', 'Сумма платежа': -800.0, 'Валюта платежа': 'RUB',
             'Категория': 'Переводы', 'Описание': 'Константин Л.'},
            {'Дата операции': Timestamp('2021-12-30 22:22:03'),
             'Номер карты': nan, 'Статус': 'OK', 'Сумма операции': -20000.0,
             'Валюта операции': 'RUB', 'Сумма платежа': -20000.0,
             'Валюта платежа': 'RUB', 'Категория': 'Переводы', 'Описание': 'Константин Л.'},
            {'Дата операции': Timestamp('2021-12-30 19:18:22'), 'Номер карты': '*5091',
             'Статус': 'OK', 'Сумма операции': -7.07,
             'Валюта операции': 'RUB', 'Сумма платежа': -7.07, 'Валюта платежа': 'RUB', 'Категория':
             'Каршеринг', 'Описание': 'Ситидрайв'},
            {'Дата операции': Timestamp('2021-12-30 19:06:39'), 'Номер карты': '*7197',
             'Статус': 'OK', 'Сумма операции': -1.32, 'Валюта операции': 'RUB', 'Сумма платежа': -1.32,
             'Валюта платежа': 'RUB', 'Категория': 'Каршеринг', 'Описание': 'Ситидрайв'},
            {'Дата операции': Timestamp('2021-12-30 17:50:30'), 'Номер карты': '*4556',
             'Статус': 'OK', 'Сумма операции': 5046.0,
             'Валюта операции': 'RUB', 'Сумма платежа': 5046.0, 'Валюта платежа': 'RUB', 'Категория':
             'Пополнения', 'Описание': 'Пополнение через Газпромбанк'}]
